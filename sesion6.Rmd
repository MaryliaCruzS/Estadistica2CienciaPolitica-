---
title: "Eventos historicos y AnÃ¡lisis de Supervivencia"
output: html_document
---

<center><img src=" " width="200"/></center>

**FACULTAD DE CIENCIAS SOCIALES - PUCP**<br>

## Curso: POL 304 - EstadÃ­stica para el anÃ¡lisis polÃ­tico 2 \| Semestre 2025 - 1 <br>

## Docente: Marylia Cruz <br>

------------------------------------------------------------------------
<br>

## **ğŸ¯ Â¿Para quÃ© sirve los Eventos histÃ³ricos y el AnÃ¡lisis de Supervivencia?**

<br>

Para estudiar el tiempo que transcurre hasta que ocurre un evento especÃ­fico (muerte, abandono, recaÃ­da, cambio de empleo, etc.) y analizar los factores que influyen en ese tiempo.

<br>

**Concepto clave:**

- **Evento histÃ³rico:** suceso de interÃ©s cuya ocurrencia es registrada a lo largo del tiempo (ej.: muerte, recaÃ­da, abandono escolar, divorcio, cambio de empleo).

- **Variable clave:** tiempo hasta el evento (tiempo de seguimiento o de permanencia).

- Importante: el evento puede no observarse para todos los casos â¤ aparece la censura.

</br>

- **Tipos de censura**

- 1. Censura a la derecha (la mÃ¡s comÃºn)

Sabemos que el evento no ocurriÃ³ durante el tiempo de observaciÃ³n, pero no sabemos si o cuÃ¡ndo ocurrirÃ¡ despuÃ©s.

ğŸ“Œ Ejemplos:

Un paciente sigue vivo al finalizar el estudio.
Una persona no ha abandonado su trabajo al cierre de la encuesta.
Un usuario no cancela su suscripciÃ³n durante el periodo de seguimiento.

ğŸ” InterpretaciÃ³n: sabemos que el tiempo al evento es mayor que el observado.

- 2. Censura a la izquierda

El evento ya habÃ­a ocurrido antes de que comenzara el seguimiento, pero no sabemos exactamente cuÃ¡ndo.

ğŸ“Œ Ejemplos:

Encuestamos a personas sobre edad al primer empleo, pero algunas ya estaban trabajando antes del periodo estudiado, sin recordar la edad exacta.
En un estudio de enfermedades crÃ³nicas, algunos participantes ya tenÃ­an la enfermedad al ingresar al estudio, pero no se conoce el momento exacto del diagnÃ³stico.

ğŸ” InterpretaciÃ³n: sabemos que el tiempo al evento es menor que el registrado.

- 3. Censura intervalada

No conocemos la fecha exacta del evento, pero sabemos que ocurriÃ³ dentro de un intervalo de tiempo.

ğŸ“Œ Ejemplos:

Un paciente realiza chequeos mÃ©dicos anuales y en uno de ellos aparece la enfermedad, pero no sabemos cuÃ¡ndo exactamente surgiÃ³ entre chequeos.
Una mujer realiza un test de embarazo mensual. El test da negativo en enero y positivo en febrero: el evento (embarazo) ocurriÃ³ entre ambos meses.

ğŸ” InterpretaciÃ³n: sabemos que el evento ocurriÃ³ entre dos tiempos conocidos.


# **Ejemplos **

```{r, echo=FALSE}
knitr::kable(data.frame(
  `Caso de Estudio` = c("CaÃ­da de regÃ­menes democrÃ¡ticos", "Firma de tratados de paz en guerras civiles",
                        "Estabilidad de coaliciones", "TransiciÃ³n democrÃ¡tica", "Permanencia en alianzas"),
  `Evento de InterÃ©s` = c("Quiebre del rÃ©gimen democrÃ¡tico", "Firma del tratado de paz", 
                          "DisoluciÃ³n de la coaliciÃ³n", "DemocratizaciÃ³n formal del rÃ©gimen", 
                          "Salida de la alianza"),
  `Unidad de AnÃ¡lisis` = c("PaÃ­s-aÃ±o", "Conflicto armado", "CoaliciÃ³n", "PaÃ­s", "PaÃ­s-alianza"),
  `Variable de Tiempo` = c("AÃ±os desde transiciÃ³n democrÃ¡tica", "AÃ±os desde inicio del conflicto", 
                           "Meses desde formaciÃ³n", "AÃ±os bajo rÃ©gimen autoritario", 
                           "AÃ±os desde entrada a la alianza"),
  `Censura` = c("Democracias aÃºn vigentes", "Conflictos aÃºn activos", 
                "Coaliciones aÃºn vigentes", "PaÃ­ses aÃºn autoritarios", "PaÃ­ses aÃºn miembros"),
  `Covariables Posibles` = c("PBI per cÃ¡pita, fragmentaciÃ³n, desigualdad", 
                              "IntervenciÃ³n externa, intensidad", 
                              "IdeologÃ­a, liderazgo, crisis econÃ³mica", 
                              "Protestas, presiÃ³n internacional", 
                              "Cambio de liderazgo, amenazas externas")
))

```


</br>

# **ğŸ“ˆ ANÃLISIS KAPLAN-MEIER**

</br>

## **âœ… Â¿Para quÃ© sirve?**

Estimar la probabilidad de "sobrevivir" mÃ¡s allÃ¡ de cierto tiempo.
Comparar grupos de personas (por ejemplo, hombres vs. mujeres) en tÃ©rminos de duraciÃ³n hasta el evento.

</br>


## **âš™ï¸ Â¿CÃ³mo funciona?**

Divide el tiempo en intervalos donde ocurren eventos.
Calcula la probabilidad de sobrevivir en cada intervalo.
Maneja correctamente casos censurados (personas que no llegaron al evento durante el seguimiento).

</br>

## FÃ³rmula del Estimador de Kaplan-Meier

El estimador de Kaplan-Meier se define como:

$$
\hat{S}(t) = \prod_{t_i \leq t} \left( 1 - \frac{d_i}{n_i} \right)
$$

donde:

- \( \hat{S}(t) \) es la probabilidad estimada de sobrevivir mÃ¡s allÃ¡ del tiempo \( t \),
- \( t_i \) son los tiempos en los que ocurre al menos un evento,
- \( d_i \) es el nÃºmero de eventos (por ejemplo, muertes) ocurridos en el tiempo \( t_i \),
- \( n_i \) es el nÃºmero de individuos en riesgo justo antes de \( t_i \).



</br>

## **ğŸ“… Â¿CuÃ¡ndo usarla?**

Cuando queremos describir la duraciÃ³n hasta un evento.
Comparar curvas de supervivencia entre grupos sin ajustar por otras variables.



# **ğŸ›  Â¿CÃ³mo se realiza?**

Usar datos que incluyan:
Tiempo de seguimiento.
Evento (1 = ocurriÃ³, 0 = censurado).
Grupo (si hay comparaciÃ³n).
</style>


# **MODELO DE REGRESIÃ“N DE COX**

## **âœ… Â¿Para quÃ© sirve?**
Evaluar el efecto de varias variables sobre el tiempo al evento.
Calcular riesgos relativos (hazard ratios) ajustados.
No requiere asumir una forma especÃ­fica de la funciÃ³n de supervivencia.

## **âš™ï¸ Â¿CÃ³mo funciona?**

Estima cÃ³mo las variables (edad, sexo, tratamiento...) afectan la razÃ³n de riesgo.
Utiliza una funciÃ³n de riesgo basal no especificada y coeficientes exponenciales.
Supone que las razones de riesgo son constantes en el tiempo (proporcionalidad de riesgos).

## **ğŸ“… Â¿CuÃ¡ndo usarla?**

Cuando se quiere hacer un anÃ¡lisis multivariado del tiempo hasta el evento.
Ideal si hay variables continuas y categÃ³ricas.
Cuando se necesita ajustar por confusores.

## **ğŸ›  Â¿CÃ³mo se realiza?**

Base con:
Tiempo.
Evento (1/0).
Covariables (edad, sexo, etc.).

## Modelo de RegresiÃ³n de Cox

El modelo de Cox, o modelo de riesgos proporcionales, se expresa como:

$$
h(t | X) = h_0(t) \cdot \exp(\beta_1 X_1 + \beta_2 X_2 + \cdots + \beta_p X_p)
$$

donde:

- \( h(t | X) \) es la funciÃ³n de riesgo en el tiempo \( t \) dado el vector de covariables \( X \),
- \( h_0(t) \) es la **funciÃ³n de riesgo basal** (baseline hazard), no especificada paramÃ©tricamente,
- \( \beta_1, \beta_2, \dots, \beta_p \) son los coeficientes estimados para las covariables \( X_1, X_2, \dots, X_p \),
- \( \exp(\beta_j) \) se interpreta como el **hazard ratio** asociado a la covariable \( X_j \).

Este modelo permite estimar el efecto de las covariables sobre la razÃ³n de riesgo sin hacer suposiciones sobre la forma funcional de \( h_0(t) \), lo cual lo hace **semiparamÃ©trico**.


- Si \( \exp(\beta_j) > 1 \): mayor riesgo de ocurrencia del evento asociado a un aumento en \( X_j \),
- Si \( \exp(\beta_j) < 1 \): efecto protector o menor riesgo,
- El modelo asume **proporcionalidad de riesgos**, es decir, que los efectos de las covariables no cambian en el tiempo.


<a href="">
  <button>Descargar la base de datos</button>
</a>

<br></br> [Go to page beginning](#beginning)

